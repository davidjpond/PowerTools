[
~[tlist_sql;
SELECT s1.dcid
FROM ps.spenrollments s1
LEFT JOIN ps.students s2
ON s1.studentid = s2.id
LEFT JOIN ps.gen g1
ON s1.programid = g1.id
AND g1.CAT = 'specprog'
LEFT JOIN ps.schools s3
ON s1.schoolid = s3.school_number
WHERE (s1.id IS NULL
~[if.~(gpv.noStudent)=1]OR s2.id IS NULL[/if]
~[if.~(gpv.noProgram)=1]OR g1.id IS NULL[/if]
~[if#curschool.~(v.curschoolid)=0]
~[if#noSchool.~(gpv.noSchool)=1]OR s3.id IS NULL[/if#noSchool]
[/if#curschool]
)
~[if.is.a.school]AND s1.schoolid = ~[v.curschoolid][/if.is.a.school]
ORDER BY s1.DCID
]
{
"dcid" : "~(dcid)"
},
[/tlist_sql]
{}
]